# Skillsmith Environment Schema
# @defaultSensitive=true @defaultRequired=infer
#
# This schema defines environment variables for varlock validation.
# Run `varlock load` to validate - secrets will be masked.
# NEVER use `cat .env` or `echo $VAR` - those expose secrets to Claude's context.

# =============================================================================
# LINEAR INTEGRATION
# =============================================================================

# Linear API Key - Required for Linear skill operations
# Get from: Linear → Settings → Security & access → Personal API keys
# @type=string(startsWith=lin_api_) @required @sensitive
LINEAR_API_KEY=

# Linear Team ID - Required for E2E test issue creation
# Get from: Linear → Settings → Workspace → Copy team ID (UUID format)
# @type=string(pattern=^[0-9a-f-]{36}$) @sensitive
LINEAR_TEAM_ID=

# Linear Project IDs - Used by Linear integration scripts
# Get from: Linear → Project → Settings → Copy project ID
# @type=string(pattern=^[0-9a-f-]{36}$) @sensitive
LINEAR_PROJECT_PHASE1=
LINEAR_PROJECT_PHASE2=
LINEAR_PROJECT_TEAM=

# =============================================================================
# OPTIONAL: Additional API Keys (add as needed)
# =============================================================================

# GitHub Token - For repository operations (PAT - 5K req/hr)
# @type=string(startsWith=gh) @sensitive
# GITHUB_TOKEN=

# =============================================================================
# GITHUB APP - For high-rate skill discovery (15K req/hr)
# Created: January 4, 2026
# App: skillsmith-indexer
# =============================================================================

# GitHub App ID - Found on App settings page
# @type=string @required @sensitive
GITHUB_APP_ID=

# Installation ID - From URL after installing: github.com/settings/installations/XXXXX
# @type=string @required @sensitive
GITHUB_APP_INSTALLATION_ID=

# Base64-encoded .pem private key
# Generate with: cat key.pem | base64 -w 0
# @type=string @required @sensitive
GITHUB_APP_PRIVATE_KEY=

# NPM Publish Token - Fine-grained token for @skillsmith packages
# Created: January 4, 2026 | Expires: April 4, 2026 (90 days)
# Get from: npmjs.com → Access Tokens → Generate New Token → Granular Access Token
# Scope: @skillsmith organization (read and write)
# @type=string(startsWith=npm_) @sensitive
NPM_TOKEN=

# Anthropic API Key - For Claude API calls
# @type=string(startsWith=sk-ant-) @sensitive
# ANTHROPIC_API_KEY=

# =============================================================================
# NON-SENSITIVE CONFIGURATION
# =============================================================================

# Node environment
# @type=enum(development,staging,production) @sensitive=false
NODE_ENV=development

# =============================================================================
# E2E TEST CONFIGURATION
# =============================================================================

# Test repository URL base for E2E tests
# Used to construct mock repository URLs in seed data
# @type=string @sensitive=false
# TEST_REPO_URL_BASE=https://github.com/skillsmith-community

# =============================================================================
# HIVE MIND ORCHESTRATOR (non-sensitive, have defaults in config.ts)
# =============================================================================

# Override skillsmith path (defaults to cwd)
# @type=string @sensitive=false
# SKILLSMITH_PATH=

# Memory namespace for orchestrator state
# @type=string @sensitive=false
# PHASE4_NAMESPACE=phase4-orchestrator

# Max agents per epic (default: 6)
# @type=number(min=1,max=20) @sensitive=false
# MAX_AGENTS_PER_EPIC=6

# Session timeout in ms (default: 1800000 = 30min)
# @type=number @sensitive=false
# SESSION_TIMEOUT=1800000

# =============================================================================
# STRIPE PAYMENT INTEGRATION
# =============================================================================

# Stripe Secret Key - For server-side API calls
# Get from: Stripe Dashboard → Developers → API keys → Secret key
# Use test key (sk_test_) for development, live key (sk_live_) for production
# @type=string(startsWith=sk_) @required @sensitive
STRIPE_SECRET_KEY=

# Stripe Publishable Key - For client-side (Stripe.js)
# Get from: Stripe Dashboard → Developers → API keys → Publishable key
# @type=string(startsWith=pk_) @sensitive=false
STRIPE_PUBLISHABLE_KEY=

# Stripe Webhook Secret - For verifying webhook signatures
# Get from: Stripe Dashboard → Developers → Webhooks → Signing secret
# @type=string(startsWith=whsec_) @required @sensitive
STRIPE_WEBHOOK_SECRET=

# Stripe Price IDs - Product pricing identifiers
# Create products in Stripe Dashboard → Products, then copy price IDs
# @type=string(startsWith=price_) @sensitive=false
STRIPE_PRICE_TEAM_MONTHLY=price_team_monthly
STRIPE_PRICE_TEAM_ANNUAL=price_team_annual
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_enterprise_monthly
STRIPE_PRICE_ENTERPRISE_ANNUAL=price_enterprise_annual

# =============================================================================
# WEBSITE CONFIGURATION
# =============================================================================

# Public application URL - Used for Stripe success/cancel redirects
# @type=string @sensitive=false
NEXT_PUBLIC_APP_URL=http://localhost:3000
