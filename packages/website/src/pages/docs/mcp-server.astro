---
import DocsLayout from '../../layouts/DocsLayout.astro';
---

<DocsLayout title="MCP Server" description="Configure and use the Skillsmith MCP server with Claude Code">
  <h1>MCP Server</h1>

  <p class="lead">
    The Skillsmith MCP server integrates directly with Claude Code, enabling natural
    language skill discovery and management.
  </p>

  <h2>Overview</h2>

  <p>
    MCP (Model Context Protocol) servers extend Claude's capabilities by providing
    additional tools. The Skillsmith MCP server adds tools for searching, installing,
    and managing Claude Code skills.
  </p>

  <h2>Configuration</h2>

  <h3>Basic Setup</h3>

  <p>Add Skillsmith to your Claude settings at <code>~/.claude/settings.json</code>:</p>

  <pre><code>{`{
  "mcpServers": {
    "skillsmith": {
      "command": "npx",
      "args": ["-y", "@skillsmith/mcp-server"]
    }
  }
}`}</code></pre>

  <h3>Advanced Configuration</h3>

  <p>For more control, you can specify additional options:</p>

  <pre><code>{`{
  "mcpServers": {
    "skillsmith": {
      "command": "npx",
      "args": ["-y", "@skillsmith/mcp-server"],
      "env": {
        "SKILLSMITH_LOG_LEVEL": "debug",
        "SKILLSMITH_CACHE_TTL": "3600"
      }
    }
  }
}`}</code></pre>

  <h3>Environment Variables</h3>

  <table>
    <thead>
      <tr>
        <th>Variable</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>SKILLSMITH_LOG_LEVEL</code></td>
        <td>Logging level (debug, info, warn, error)</td>
        <td>info</td>
      </tr>
      <tr>
        <td><code>SKILLSMITH_CACHE_TTL</code></td>
        <td>Cache time-to-live in seconds</td>
        <td>1800</td>
      </tr>
      <tr>
        <td><code>SKILLSMITH_REGISTRY</code></td>
        <td>Custom registry URL</td>
        <td>default registry</td>
      </tr>
      <tr>
        <td><code>SKILLSMITH_API_KEY</code></td>
        <td>API key for premium features</td>
        <td>-</td>
      </tr>
    </tbody>
  </table>

  <h2>Available Tools</h2>

  <p>The MCP server provides the following tools to Claude:</p>

  <h3>search</h3>

  <p>Search for skills in the registry.</p>

  <pre><code>{`// Tool: search
// Parameters:
{
  "query": "testing",           // Search term (required)
  "category": "development",    // Category filter
  "trust_tier": "verified",     // Trust tier filter
  "min_score": 70,              // Minimum quality score
  "limit": 10                   // Max results
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Search for testing skills"</li>
    <li>"Find verified skills for git workflows"</li>
    <li>"Show me devops skills with high quality scores"</li>
  </ul>

  <h3>get_skill</h3>

  <p>Get detailed information about a specific skill.</p>

  <pre><code>{`// Tool: get_skill
// Parameters:
{
  "id": "community/jest-helper"  // Skill ID (required)
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Show details for community/jest-helper"</li>
    <li>"What does the git-commit skill do?"</li>
  </ul>

  <h3>install_skill</h3>

  <p>Install a skill to the local environment.</p>

  <pre><code>{`// Tool: install_skill
// Parameters:
{
  "id": "community/jest-helper",  // Skill ID (required)
  "path": "~/.claude/skills",     // Installation path
  "force": false                  // Overwrite existing
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Install the jest-helper skill"</li>
    <li>"Install community/git-commit"</li>
  </ul>

  <h3>uninstall_skill</h3>

  <p>Remove an installed skill.</p>

  <pre><code>{`// Tool: uninstall_skill
// Parameters:
{
  "id": "community/jest-helper"  // Skill ID (required)
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Uninstall the jest-helper skill"</li>
    <li>"Remove community/git-commit"</li>
  </ul>

  <h3>recommend</h3>

  <p>Get personalized skill recommendations.</p>

  <pre><code>{`// Tool: recommend
// Parameters:
{
  "context": "react",     // Technology context
  "limit": 5              // Max recommendations
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Recommend skills for my React project"</li>
    <li>"What skills would help with Node.js development?"</li>
  </ul>

  <h3>compare</h3>

  <p>Compare multiple skills side-by-side.</p>

  <pre><code>{`// Tool: compare
// Parameters:
{
  "skill_ids": ["jest-helper", "vitest-helper"]  // 2-5 skill IDs
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Compare jest-helper and vitest-helper"</li>
    <li>"What's the difference between these testing skills?"</li>
  </ul>

  <h3>validate</h3>

  <p>Validate a skill's structure.</p>

  <pre><code>{`// Tool: validate
// Parameters:
{
  "path": "./my-skill"  // Path to skill directory
}`}</code></pre>

  <p><strong>Example prompts:</strong></p>
  <ul>
    <li>"Validate my skill at ./my-skill"</li>
    <li>"Check if this skill structure is correct"</li>
  </ul>

  <h2>Usage Examples</h2>

  <h3>Discovering Skills</h3>

  <pre><code>{`You: "I need help with testing in my project. What skills are available?"

Claude: [Uses search tool] I found several testing skills:
- jest-helper: Comprehensive Jest testing utilities
- vitest-helper: Vitest integration and helpers
- playwright-utils: End-to-end testing with Playwright
...`}</code></pre>

  <h3>Installing and Using Skills</h3>

  <pre><code>{`You: "Install the jest-helper skill and show me how to use it"

Claude: [Uses install_skill tool] I've installed jest-helper to
~/.claude/skills/jest-helper. This skill provides...`}</code></pre>

  <h3>Comparing Options</h3>

  <pre><code>{`You: "Should I use jest-helper or vitest-helper for my Vite project?"

Claude: [Uses compare tool] Here's a comparison:
| Feature       | jest-helper | vitest-helper |
| Vite support  | Limited     | Native        |
| Speed         | Moderate    | Fast          |
...`}</code></pre>

  <h2>Trust Tiers</h2>

  <table>
    <thead>
      <tr>
        <th>Tier</th>
        <th>Description</th>
        <th>Review Process</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>verified</code></td>
        <td>Official Anthropic skills</td>
        <td>Full security audit</td>
      </tr>
      <tr>
        <td><code>community</code></td>
        <td>Community-reviewed</td>
        <td>Peer review + automated checks</td>
      </tr>
      <tr>
        <td><code>experimental</code></td>
        <td>Beta/new skills</td>
        <td>Basic validation only</td>
      </tr>
      <tr>
        <td><code>unknown</code></td>
        <td>Unverified</td>
        <td>None</td>
      </tr>
    </tbody>
  </table>

  <h2>Troubleshooting</h2>

  <h3>Server Not Starting</h3>

  <div class="callout">
    <h4>Check Node.js Version</h4>
    <p>Ensure you have Node.js 18+ installed. Run <code>node --version</code> to verify.</p>
  </div>

  <h3>Tools Not Available</h3>

  <div class="callout">
    <h4>Verify Configuration</h4>
    <p>
      Ensure your <code>~/.claude/settings.json</code> is valid JSON and the
      MCP server configuration is correct. Restart Claude Code after changes.
    </p>
  </div>

  <h3>Enable Debug Logging</h3>

  <pre><code>{`{
  "mcpServers": {
    "skillsmith": {
      "command": "npx",
      "args": ["-y", "@skillsmith/mcp-server"],
      "env": {
        "SKILLSMITH_LOG_LEVEL": "debug"
      }
    }
  }
}`}</code></pre>
</DocsLayout>
